(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-333d","chunk-3f27","chunk-3db9","chunk-55a2"],{"+HHC":function(t,e,n){"use strict";var o=n("X9Zb");n.n(o).a},"+Q7u":function(t,e,n){},"+iQk":function(t,e,n){"use strict";var o=n("5XNF");n.n(o).a},"/lFH":function(t,e,n){},"/oHS":function(t,e,n){"use strict";var o=n("Nq79");n.n(o).a},"1j7S":function(t,e,n){"use strict";n.r(e);var o={components:{},props:{rendition:{type:Object,default:function(){return{}}}},data:function(){return{value:null,fontType:1,fontsize:12,lineHeight:null,background:null,fontTypeList:[{label:"仿宋",value:1},{label:"楷体",value:2},{label:"微软雅黑",value:3}]}},created:function(){this.getCatalogList()},methods:{close:function(){this.$emit("closeDialog")},sub:function(){this.fontsize>12&&this.fontsize--},add:function(){this.fontsize<50&&this.fontsize++},setLineHeight:function(t){this.lineHeight=t},setBackground:function(t){this.background=t},getCatalogList:function(){},init:function(){}},mounted:function(){this.$nextTick(function(){this.init()})}},i=(n("+HHC"),n("rJzI"),n("KHd+")),a=Object(i.a)(o,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"theme"}},[o("mu-bottom-nav",[o("div",{staticClass:"title clearfix"},[o("i",{staticClass:"iconfont iconclose",on:{click:function(e){t.close()}}}),t._v(" "),o("p",[t._v("选项")])])]),t._v(" "),o("div",{staticClass:"theme-container"},[o("el-form",{ref:"form",staticClass:"themeBox",attrs:{"label-position":"top"}},[o("el-form-item",{attrs:{label:"字体"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.fontType,callback:function(e){t.fontType=e},expression:"fontType"}},t._l(t.fontTypeList,function(t,e){return o("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),o("el-form-item",{attrs:{label:"字号"}},[o("div",{staticClass:"setFontSize clearfix"},[o("p",{on:{click:function(e){t.sub()}}},[t._v("小")]),t._v(" "),o("span",[t._v(t._s(t.fontsize))]),t._v(" "),o("p",{on:{click:function(e){t.add()}}},[t._v("大")])])]),t._v(" "),o("el-form-item",{attrs:{label:"排版"}},[o("div",{staticClass:"selectBox clearfix"},[o("p",{class:20===t.lineHeight?"active":"",on:{click:function(e){t.setLineHeight(20)}}},[o("img",{attrs:{src:n("KFHA"),alt:""}})]),t._v(" "),o("p",{class:25===t.lineHeight?"active":"",on:{click:function(e){t.setLineHeight(25)}}},[o("img",{attrs:{src:n("KFHA"),alt:""}})]),t._v(" "),o("p",{class:30===t.lineHeight?"active":"",on:{click:function(e){t.setLineHeight(30)}}},[o("img",{attrs:{src:n("KFHA"),alt:""}})]),t._v(" "),o("p",{class:35===t.lineHeight?"active":"",on:{click:function(e){t.setLineHeight(35)}}},[o("img",{attrs:{src:n("KFHA"),alt:""}})])])]),t._v(" "),o("el-form-item",{attrs:{label:"主题"}},[o("div",{staticClass:"selectBox clearfix"},[o("p",{class:"#FFFFFF"===t.background?"active":"",on:{click:function(e){t.setBackground("#FFFFFF")}}},[o("span",{staticStyle:{background:"#FFFFFF"}})]),t._v(" "),o("p",{class:"#FFDDAA"===t.background?"active":"",on:{click:function(e){t.setBackground("#FFDDAA")}}},[o("span",{staticStyle:{background:"#FFDDAA"}})]),t._v(" "),o("p",{class:"#BFE2CB"===t.background?"active":"",on:{click:function(e){t.setBackground("#BFE2CB")}}},[o("span",{staticStyle:{background:"#BFE2CB"}})]),t._v(" "),o("p",{class:"#141414"===t.background?"active":"",on:{click:function(e){t.setBackground("#141414")}}},[o("span",{staticStyle:{background:"#141414"}})])])])],1)],1)],1)},[],!1,null,"242d52e8",null);a.options.__file="index.vue";e.default=a.exports},"5XNF":function(t,e,n){},"7+PR":function(t,e,n){"use strict";n.r(e);var o={components:{},props:{rendition:{type:Object,default:function(){return{}}}},data:function(){return{keyword:null}},created:function(){this.getCatalogList()},methods:{close:function(){this.$emit("closeDialog")},search:function(t){},getCatalogList:function(){},init:function(){}},mounted:function(){this.$nextTick(function(){this.init()})}},i=(n("rIG/"),n("qYU2"),n("KHd+")),a=Object(i.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"search"}},[n("mu-bottom-nav",[n("div",{staticClass:"title clearfix"},[n("i",{staticClass:"iconfont iconclose",on:{click:function(e){t.close()}}}),t._v(" "),n("p",[t._v("搜索")])])]),t._v(" "),n("div",{staticClass:"search-container"},[n("div",{staticClass:"box"},[n("mu-text-field",{staticStyle:{width:"100%"},attrs:{placeholder:"全文搜索","action-icon":"search","action-click":t.search},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),t._v(" "),t._m(0)])],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"list"},[e("div",{staticClass:"result clearfix"},[e("p",{staticClass:"wordOverflow3"},[this._v("渐渐地，我们又鼓起了勇气，决定渐渐地，\n\t\t\t\t\t\t"),e("span",[this._v("搜索")]),this._v("\n\t\t\t\t\t\t我们又鼓起了勇气，决定渐渐地，我们又鼓起了勇气，决定渐渐地，我们又鼓起了勇气，决定渐渐地，我们又鼓起了勇气，决定我们又鼓起了勇气，决定")])]),this._v(" "),e("div",{staticClass:"result clearfix"},[e("p",{staticClass:"wordOverflow3"},[this._v("渐渐地，我们又鼓起了勇气，决定渐渐地，\n\t\t\t\t\t\t"),e("span",[this._v("搜索")]),this._v("\n\t\t\t\t\t\t我们又鼓起了勇气，决定渐渐地，我们又鼓起了勇气，决定渐渐地，我们又鼓起了勇气，决定渐渐地，我们又鼓起了勇气，决定我们又鼓起了勇气，决定")])])])}],!1,null,"e6734e9a",null);a.options.__file="index.vue";e.default=a.exports},"Jgs+":function(t,e,n){"use strict";n.r(e);var o={components:{},props:{chapterList:{type:Array,default:function(){return[]}},currentChapter:{type:Object,default:function(){return{}}}},data:function(){return{menu:1}},created:function(){this.getCatalogList()},methods:{toggleMenu:function(t){0===t&&this.$emit("closeDialog")},goToChapter:function(t){this.$emit("goToChapter",t)},getCatalogList:function(){console.log(this.chapterList),console.log(this.currentChapter)},init:function(){}},mounted:function(){this.$nextTick(function(){this.init()})}},i=(n("Mqy7"),n("fHEz"),n("KHd+")),a=Object(i.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"catalog"}},[n("mu-bottom-nav",{attrs:{value:t.menu},on:{"update:value":function(e){t.menu=e},change:t.toggleMenu}},[n("mu-bottom-nav-item",{attrs:{value:0,icon:"close"}}),t._v(" "),n("mu-bottom-nav-item",{attrs:{value:1,title:"目录"}}),t._v(" "),n("mu-bottom-nav-item",{attrs:{value:2,title:"书签"}}),t._v(" "),n("mu-bottom-nav-item",{attrs:{value:3,title:"笔记"}})],1),t._v(" "),1===t.menu?n("div",{staticClass:"catalog-container"},[n("div",{staticClass:"list"},t._l(t.chapterList,function(e,o){return n("div",{key:o,class:e.href===t.currentChapter.href?"chapter active clearfix":"chapter clearfix"},[n("p",{staticClass:"wordOverflow",on:{click:function(n){t.goToChapter(e)}}},[t._v(t._s(e.label))]),t._v(" "),n("span",[t._v("1")])])}))]):t._e(),t._v(" "),2===t.menu?n("div",{staticClass:"bookmark-container"},[t._m(0)]):t._e(),t._v(" "),3===t.menu?n("div",{staticClass:"note-container"},[t._m(1)]):t._e()],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"list"},[e("div",{staticClass:"bookmark clearfix"},[e("p",{staticClass:"clearfix"},[e("span",[this._v("11-16 10:30")]),this._v(" "),e("i",{staticClass:"iconfont icondelete"}),this._v(" "),e("span",[this._v("55")])]),this._v(" "),e("p",{staticClass:"content wordOverflow2"},[this._v("中亚细亚高原，它不但是中国的地理高度，也是中国的精神高度，每一个忙忙碌碌的现代人，他都有必要")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},[n("div",{staticClass:"note clearfix"},[n("p",{staticClass:"clearfix"},[n("span",[n("i",[t._v(".")]),t._v("11-16 10:30")]),t._v(" "),n("i",{staticClass:"iconfont icondelete"}),t._v(" "),n("span",[t._v("55")])]),t._v(" "),n("p",{staticClass:"content wordOverflow2"},[t._v("中亚细亚高原，它不但是中国的地理高度，也是中国的精神高度，每一个忙忙碌碌的现代人，他都有必要")]),t._v(" "),n("div",{staticClass:"bottom clearfix"},[n("p",{staticClass:"tips"},[t._v("注")]),t._v(" "),n("p",{staticClass:"remarks wordOverflow2"},[t._v("中国地理高度，也是中国精神高度，每一个忙忙碌碌的现代人。")])])])])}],!1,null,"423e4680",null);a.options.__file="index.vue";e.default=a.exports},KFHA:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAwCAYAAABe6Vn9AAABC0lEQVRoQ+2aPQ5BQRSFv1dYAIWaBQgbQCJeYRkqrV6rFa3WBixAZSuWwArkJk8hqhuZE+/mTn/nzDnf/GQyUwET4AAsaG97AhdgXQEnYNNeLx8jH5mhK1AHMVSboS1wDGKoa4asTYEZ0GmpsUezhu5vQy318T3sNPTvKJNQEhInkFNOHLhbLgm5IxMXJCFx4G65JOSOTFwQklC/uYJHuA+djdAe2IlnRim5gRm6AfNSCuJ+V9EIDc1QuDUknhVl5UJu22UjE/eehMSBu+WSkDsycUESEgfulktC7sjEBUlIHLhbLgm5IxMXhHxjjfQK3ov2T2EZ7SfJ2AyF++sj3ofKyuU5VDbf33t/AT57HLoa+tkTAAAAAElFTkSuQmCC"},Mqy7:function(t,e,n){"use strict";var o=n("+Q7u");n.n(o).a},"N/kD":function(t,e,n){"use strict";n.r(e);n("t3Un");var o={name:"slider",props:{progress:{type:Number,default:function(){return 0}}},data:function(){return{top:0,moveStatus:!1,tipStatus:!1,tipTop:0}},computed:{value:{get:function(){return this.progress},set:function(t){this.tipTop=t<=1?0:t>96?-47:-12,this.$emit("valueChange",t)}}},methods:{init:function(){var t=this,e=document.getElementById("sliderBtn");this.moveStatus=!1;var n=e.offsetParent.offsetTop,o=e.offsetParent.offsetHeight;e.addEventListener("mousedown",function(o){t.moveStatus=!0,n=o.pageY-e.offsetTop}),document.addEventListener("mousemove",function(e){if(t.moveStatus){var i=e.pageY-n;if(i>=0&&i<=o-36){var a=parseInt(i/(o-36)*100);t.value=a,t.top=i}t.$emit("change",t.value)}}),document.addEventListener("mouseup",function(e){t.moveStatus=!1})}},mounted:function(){this.$nextTick(function(){this.init()})}},i=(n("/oHS"),n("KHd+")),a=Object(i.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"sliderContainer"}},[n("div",{attrs:{id:"sliderBox"}},[n("div",{style:{top:t.top+"px"},attrs:{id:"sliderBtn"},on:{mouseover:function(e){t.tipStatus=!0},mouseout:function(e){t.tipStatus=!1}}},[t.tipStatus||t.moveStatus?n("div",{class:t.value<1?"top":t.value>96?"bottom":"",style:{top:t.tipTop+"px"},attrs:{id:"sliderTip"}},[n("p",{staticClass:"wordOverflow2"},[t._v("第一章 分子与细胞分子与细胞分子与细胞分子与细胞")]),t._v(" "),n("span",[t._v(t._s((null===t.value?0:t.value)+"%"))])]):t._e()])])])},[],!1,null,"d7f988b4",null);a.options.__file="slider.vue";var s=a.exports,c=n("Jgs+"),l=n("1j7S"),r=n("7+PR"),u=window.ePub,f={data:function(){return{bookLoading:!1,file:null,book:null,bookUrl:null,bookRendition:null,displayed:null,locations:null,drawer_open:!1,progress:null,bookInfo:{title:null,currentPage:null,totalPage:null,currentChapter:null},prevStatus:!0,nextStatus:!0,catalogStatus:!1,currentChapter:null,themeStatus:!1,searchStatus:!1}},components:{ProgressSlider:s,Catalog:c.default,Theme:l.default,Search:r.default},mounted:function(){this.$route.query&&this.$route.query.id&&(this.id=this.$route.params.id,this.getBookUrl(this.$route.params.id))},created:function(){},methods:{getBookUrl:function(t){this.bookUrl="https://img1.yunser.com/epub/test.epub",this.bookInit(this.bookUrl)},bookInit:function(t){this.bookLoading=!0,this.book=u(t),this.bookRendition=this.book.renderTo("book",{width:"100%",height:"100%",spread:"always"}),this.display=this.bookRendition.display(),this.renderInit()},renderInit:function(){var t=this;this.book.ready.then(function(){return t.book.locations.generate()}).then(function(e){t.bookLoading=!1,console.log(111111),console.log(t.book),t.getBookInfo(),t.locations=t.book.locations,console.log(t.locations),t.progress=0,t.bookInfo.totalPage=t.locations.total,t.bookInfo.currentPage=t.locations._current}),this.bookRendition.on("rendered",function(e){console.log(22222);var n=t.book.navigation&&t.book.navigation.toc.filter(function(t){return t.href===e.href})[0];t.currentChapter=e,t.bookInfo.currentChapter=n&&n.label}),this.bookRendition.on("relocated",function(e){console.log(333333),console.log(e),console.log(e.start.displayed),t.nextStatus=!e.atEnd,t.prevStatus=!e.atStart})},getBookInfo:function(){console.log(this.book.package.metadata),this.bookInfo.title=this.book.package.metadata.title},onValueChange:function(t){this.progress=t},onProgressChange:function(t){var e=t/100,n=t>0?this.locations.cfiFromPercentage(e):0;this.bookRendition.display(n),this.bookInfo.currentPage=this.locations.locationFromCfi(n)},prev:function(){"rtl"===this.book.package.metadata.direction?this.bookRendition.next().then(function(t){}):this.bookRendition.prev().then(function(t){})},next:function(){"rtl"===this.book.package.metadata.direction?this.bookRendition.prev().then(function(t){}):this.bookRendition.next().then(function(t){})},menu_click:function(){var t=this;this.drawer_open=!0,this.dialogHandle(function(){t.catalogStatus=!0})},goToChapter:function(t){this.bookRendition.display(t.href)},goTopage:function(){this.bookRendition.display("epubcfi(/6/12[id10]!/4/134/1:42)")},spellcheck_click:function(){var t=this;this.drawer_open=!0,this.dialogHandle(function(){t.themeStatus=!0})},search_click:function(){var t=this;this.drawer_open=!0,this.dialogHandle(function(){t.searchStatus=!0})},setPageType:function(){},collect:function(){},setFullscreen:function(){},dialogHandle:function(t){this.catalogStatus=!1,this.themeStatus=!1,this.searchStatus=!1,t?"function"==typeof t&&t():this.drawer_open=!1}}},v=(n("VGjD"),n("+iQk"),Object(i.a)(f,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container",attrs:{id:"index-container"}},[n("mu-appbar",{staticClass:"appbar-header",staticStyle:{width:"100%"},attrs:{color:"primary"}},[n("mu-button",{attrs:{slot:"left",icon:""},on:{click:function(e){t.$goLink("/list")}},slot:"left"},[n("mu-icon",{attrs:{value:"navigate_before"}})],1),t._v(" "),n("mu-button",{attrs:{slot:"right",flat:""},on:{click:t.menu_click},slot:"right"},[n("mu-icon",{attrs:{value:"menu"}})],1),t._v(" "),n("mu-button",{attrs:{slot:"right",flat:""},on:{click:t.spellcheck_click},slot:"right"},[n("mu-icon",{attrs:{value:"spellcheck"}})],1),t._v(" "),n("mu-button",{attrs:{slot:"right",flat:""},on:{click:t.setPageType},slot:"right"},[n("mu-icon",{attrs:{value:"library_books"}})],1),t._v(" "),n("mu-button",{attrs:{slot:"right",flat:""},on:{click:t.search_click},slot:"right"},[n("mu-icon",{attrs:{value:"search"}})],1),t._v(" "),n("mu-button",{attrs:{slot:"right",flat:""},on:{click:t.collect},slot:"right"},[n("mu-icon",{attrs:{value:"bookmark_border"}})],1),t._v(" "),n("mu-button",{attrs:{slot:"right",flat:""},on:{click:t.setFullscreen},slot:"right"},[n("mu-icon",{attrs:{value:"crop_free"}})],1)],1),t._v(" "),n("div",{attrs:{id:"wrapper"}},[n("div",{staticClass:"title clearfix"},[n("span",[t._v("当前位置：")]),t._v(" "),n("span",{on:{click:function(e){t.$goLink("/list")}}},[t._v("首页")]),t._v(" "),t.bookInfo.title?n("span",[t._v(">")]):t._e(),t._v(" "),t.bookInfo.title?n("span",[t._v(t._s(t.bookInfo.title))]):t._e(),t._v(" "),t.bookInfo.currentChapter?n("span",[t._v(">")]):t._e(),t._v(" "),t.bookInfo.currentChapter?n("span",{staticClass:"last"},[t._v(t._s(t.bookInfo.currentChapter))]):t._e()]),t._v(" "),n("div",{staticClass:"book-container clearfix"},[t.prevStatus?n("div",{staticClass:"prev",on:{click:t.prev}},[n("i",{staticClass:"iconfont iconleft"})]):t._e(),t._v(" "),n("div",{staticClass:"bookBox"},[n("div",{staticClass:"top clearfix"},[n("span",[t._v(t._s(t.bookInfo.title))]),t._v(" "),n("i",{staticClass:"iconfont iconsign"}),t._v(" "),n("span",[t._v(t._s(t.bookInfo.currentChapter))])]),t._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.bookLoading,expression:"bookLoading"}],attrs:{id:"book"}}),t._v(" "),n("div",{staticClass:"bottom"},[n("span",[t._v(t._s(this.bookInfo.currentPage)+"/"+t._s(this.bookInfo.totalPage))]),t._v(" "),n("span",[t._v(t._s(this.bookInfo.currentPage)+"/"+t._s(this.bookInfo.totalPage))])])]),t._v(" "),t.nextStatus?n("div",{staticClass:"next",on:{click:t.next}},[n("i",{staticClass:"iconfont iconright"})]):t._e()])]),t._v(" "),null!==t.progress?n("progress-slider",{attrs:{progress:t.progress},on:{change:t.onProgressChange,valueChange:t.onValueChange}}):t._e(),t._v(" "),n("mu-drawer",{staticClass:"drawer-container",attrs:{open:t.drawer_open,docked:!1,right:!0},on:{"update:open":function(e){t.drawer_open=e},close:t.dialogHandle}},[t.catalogStatus?n("catalog",{attrs:{chapterList:t.book.navigation.toc,currentChapter:t.currentChapter},on:{closeDialog:t.dialogHandle,goToChapter:t.goToChapter}}):t._e(),t._v(" "),t.themeStatus?n("theme",{attrs:{rendition:t.bookRendition},on:{closeDialog:t.dialogHandle}}):t._e(),t._v(" "),t.searchStatus?n("search",{attrs:{rendition:t.bookRendition},on:{closeDialog:t.dialogHandle}}):t._e()],1)],1)},[],!1,null,"fe50cdb4",null));v.options.__file="index.vue";e.default=v.exports},Nq79:function(t,e,n){},SlIV:function(t,e,n){},VGjD:function(t,e,n){"use strict";var o=n("Zhdv");n.n(o).a},X9Zb:function(t,e,n){},Zhdv:function(t,e,n){},cm1g:function(t,e,n){},fHEz:function(t,e,n){"use strict";var o=n("SlIV");n.n(o).a},qYU2:function(t,e,n){"use strict";var o=n("vZJr");n.n(o).a},"rIG/":function(t,e,n){"use strict";var o=n("cm1g");n.n(o).a},rJzI:function(t,e,n){"use strict";var o=n("/lFH");n.n(o).a},vZJr:function(t,e,n){}}]);